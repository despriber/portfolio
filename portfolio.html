<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUIXIAN TIAN | Digital Craftsman</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&family=Manrope:wght@200;300;400;500;600&family=Noto+Serif+JP:wght@200;300;400;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <style>
        /* ============================
           1. RESET & VARIABLES
           ============================ */
        :root {
            --c-bg: #030303;
            --c-text-main: #e0e0e0;
            --c-text-sec: #888888;
            --c-accent: #c0392b; 
            --c-line: rgba(255, 255, 255, 0.1);
            
            --f-display: 'Cormorant Garamond', serif;
            --f-body: 'Manrope', sans-serif;
            --f-jp: 'Noto Serif JP', serif;

            --gap-page: 4vw;
            --ease-out: cubic-bezier(0.25, 1, 0.5, 1);
            --ease-in-out: cubic-bezier(0.87, 0, 0.13, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html.lenis { height: auto; }
        
        body {
            background-color: var(--c-bg);
            color: var(--c-text-main);
            font-family: var(--f-body);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            cursor: none; /* Custom cursor */
        }

        a { text-decoration: none; color: inherit; cursor: none; }
        ul { list-style: none; }
        img { width: 100%; display: block; }
        button { border: none; background: none; cursor: none; color: inherit; font-family: inherit; }

        /* ============================
           2. WEBGL BACKGROUND
           ============================ */
        #canvas-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100vh;
            z-index: -1;
            opacity: 0.5;
            pointer-events: none;
        }

        /* ============================
           3. PRELOADER
           ============================ */
        .preloader {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: #000;
            z-index: 99999;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .loader-text {
            font-family: var(--f-display);
            font-size: 2rem;
            color: #fff;
            margin-bottom: 20px;
        }

        .loader-bar {
            width: 200px;
            height: 1px;
            background: #333;
            position: relative;
            overflow: hidden;
        }

        .loader-progress {
            position: absolute;
            top: 0; left: 0;
            height: 100%;
            width: 0%;
            background: #fff;
        }

        /* ============================
           4. CUSTOM CURSOR
           ============================ */
        .cursor-dot {
            position: fixed; top: 0; left: 0;
            width: 8px; height: 8px;
            background-color: white;
            border-radius: 50%;
            z-index: 10000;
            pointer-events: none;
            transform: translate(-50%, -50%);
        }

        .cursor-outline {
            position: fixed; top: 0; left: 0;
            width: 40px; height: 40px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            z-index: 10000;
            pointer-events: none;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background-color 0.2s, border-color 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .cursor-text {
            font-size: 10px;
            text-transform: uppercase;
            color: #000;
            opacity: 0;
            font-weight: 700;
            letter-spacing: 1px;
        }

        /* Cursor States */
        body.hovered .cursor-outline {
            width: 80px; height: 80px;
            background-color: rgba(255, 255, 255, 0.9);
            border-color: transparent;
            mix-blend-mode: difference;
        }

        body.hovered-text .cursor-outline {
            width: 100px; height: 100px;
            background-color: #fff;
            mix-blend-mode: normal;
        }
        
        body.hovered-text .cursor-text {
            opacity: 1;
        }

        /* ============================
           5. NAVIGATION (Smart)
           ============================ */
        .nav-bar {
            position: fixed;
            top: 0; left: 0; width: 100%;
            padding: 30px var(--gap-page);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            transition: transform 0.4s var(--ease-out);
            mix-blend-mode: difference;
        }

        .nav-bar.hidden {
            transform: translateY(-100%);
        }

        .logo {
            font-family: var(--f-display);
            font-size: 1.5rem;
            font-weight: 600;
            letter-spacing: 0.05em;
        }

        .menu-items {
            display: flex;
            gap: 40px;
        }

        .menu-link {
            font-family: var(--f-body);
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 0.1em;
            position: relative;
        }

        .menu-link::after {
            content: ''; position: absolute; bottom: -5px; left: 0;
            width: 0%; height: 1px; background: #fff;
            transition: width 0.3s var(--ease-out);
        }
        .menu-link:hover::after { width: 100%; }

        /* Mobile Menu Toggle */
        .menu-toggle {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            cursor: none;
            z-index: 1001;
        }
        .menu-toggle span {
            display: block;
            width: 24px;
            height: 1px;
            background: #fff;
            margin: 4px 0;
            transition: all 0.3s var(--ease-out);
        }
        .menu-toggle.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
        .menu-toggle.active span:nth-child(2) { opacity: 0; }
        .menu-toggle.active span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px); }

        .mobile-menu {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100vh;
            background: rgba(0, 0, 0, 0.98);
            z-index: 999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transform: translateY(-100%);
            transition: transform 0.6s var(--ease-in-out);
        }
        .mobile-menu.active { transform: translateY(0); }
        .mobile-menu a {
            font-family: var(--f-display);
            font-size: 3rem;
            margin: 20px 0;
            color: #fff;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s, transform 0.4s, color 0.3s;
        }
        .mobile-menu.active a {
            opacity: 1;
            transform: translateY(0);
        }
        .mobile-menu a:hover { color: var(--c-accent); }
        .mobile-menu.active a:nth-child(1) { transition-delay: 0.1s; }
        .mobile-menu.active a:nth-child(2) { transition-delay: 0.2s; }
        .mobile-menu.active a:nth-child(3) { transition-delay: 0.3s; }
        .mobile-menu.active a:nth-child(4) { transition-delay: 0.4s; }

        /* Scroll Progress Indicator */
        .scroll-progress {
            position: fixed;
            top: 0; left: 0;
            width: 0%;
            height: 2px;
            background: linear-gradient(90deg, var(--c-accent), #e74c3c);
            z-index: 10001;
            transition: width 0.1s linear;
        }

        /* ============================
           6. LAYOUT UTILITIES
           ============================ */
        .container {
            padding: 0 var(--gap-page);
            max-width: 1920px;
            margin: 0 auto;
        }

        .section-header {
            display: flex;
            align-items: baseline;
            gap: 20px;
            margin-bottom: 60px;
            border-bottom: 1px solid var(--c-line);
            padding-bottom: 20px;
        }

        .section-num { font-family: var(--f-display); color: var(--c-accent); font-size: 1.2rem; }
        .section-title { font-family: var(--f-body); text-transform: uppercase; font-size: 0.9rem; letter-spacing: 0.2em; color: var(--c-text-sec); }

        /* ============================
           7. SECTIONS
           ============================ */
        
        /* --- HERO --- */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        .hero h1 {
            font-family: var(--f-display);
            font-size: clamp(4rem, 11vw, 10rem);
            line-height: 0.9;
            font-weight: 300;
            margin-left: -0.05em;
        }

        .hero h1 .line-inner { display: block; overflow: hidden; }
        .hero h1 .highlight {
            font-style: italic;
            font-family: var(--f-display);
            background: linear-gradient(135deg, #e74c3c, #9b59b6, #3498db, #e74c3c);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 8s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .hero-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 5vh;
            font-size: 1rem;
            color: var(--c-text-sec);
            max-width: 600px;
        }

        /* --- MARQUEE --- */
        .marquee-container {
            padding: 8vh 0;
            overflow: hidden;
            border-top: 1px solid var(--c-line);
            border-bottom: 1px solid var(--c-line);
            background: rgba(255,255,255,0.02);
        }

        .marquee-content {
            display: flex;
            gap: 4vw;
            white-space: nowrap;
            will-change: transform;
        }

        .marquee-item {
            font-family: var(--f-display);
            font-size: clamp(2rem, 4vw, 5rem);
            font-style: italic;
            color: transparent;
            -webkit-text-stroke: 1px rgba(255,255,255,0.3);
            text-transform: uppercase;
        }
        
        .marquee-item.solid {
            color: var(--c-text-main);
            -webkit-text-stroke: 0;
        }

        /* --- PHILOSOPHY --- */
        .philosophy {
            padding: 15vh 0;
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 50px;
        }

        .philo-text {
            font-size: clamp(1.2rem, 2vw, 1.8rem);
            line-height: 1.5;
            font-weight: 300;
        }
        .philo-text strong { color: #fff; font-weight: 400; }
        .jp-vertical {
            font-family: var(--f-jp);
            writing-mode: vertical-rl;
            font-size: 2rem;
            color: var(--c-accent);
            opacity: 0.8;
            height: 200px;
            justify-self: end;
        }

        /* --- STATS SECTION --- */
        .stats-section {
            padding: 10vh 0;
            border-top: 1px solid var(--c-line);
            border-bottom: 1px solid var(--c-line);
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 40px;
            text-align: center;
        }
        .stat-item { padding: 30px 0; }
        .stat-num {
            font-family: var(--f-display);
            font-size: clamp(3rem, 6vw, 5rem);
            line-height: 1;
            color: #fff;
            margin-bottom: 10px;
        }
        .stat-num span {
            color: var(--c-accent);
        }
        .stat-label {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--c-text-sec);
        }

        /* --- SKILLS CLOUD --- */
        .skills-section { padding: 8vh 0; }
        .skills-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            padding: 40px 0;
        }
        .skill-tag {
            padding: 12px 25px;
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 30px;
            font-size: 0.9rem;
            transition: all 0.3s var(--ease-out);
            cursor: none;
        }
        .skill-tag:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--c-accent);
            transform: translateY(-3px);
        }
        .skill-tag.featured {
            background: var(--c-accent);
            border-color: var(--c-accent);
            color: #fff;
        }

        /* --- SERVICES (Accordion) --- */
        .services-section { padding: 10vh 0; }
        
        .service-item {
            border-top: 1px solid var(--c-line);
            padding: 40px 0;
            cursor: none;
            position: relative;
            transition: background 0.3s;
        }
        .service-item:last-child { border-bottom: 1px solid var(--c-line); }
        .service-item:hover { background: rgba(255,255,255,0.02); }

        .service-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .service-name {
            font-family: var(--f-display);
            font-size: 2.5rem;
            transition: transform 0.4s var(--ease-out);
        }
        
        .service-item:hover .service-name { transform: translateX(20px); }

        .service-icon {
            font-size: 2rem;
            font-weight: 200;
            transition: transform 0.4s;
        }

        .service-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s var(--ease-out);
        }

        .service-body {
            padding-top: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            font-size: 1rem;
            color: var(--c-text-sec);
        }

        .service-item.active .service-content { max-height: 500px; }
        .service-item.active .service-icon { transform: rotate(45deg); }

        /* --- SELECTED WORK --- */
        .work-section { padding: 10vh 0; }

        .project-card {
            display: grid;
            grid-template-columns: 1.5fr 1fr;
            gap: 40px;
            margin-bottom: 20vh;
            align-items: center;
        }
        .project-card:nth-child(even) { grid-template-columns: 1fr 1.5fr; }
        
        .p-image-wrap {
            position: relative;
            overflow: hidden;
            aspect-ratio: 16/9;
            cursor: none;
            border-radius: 8px;
        }

        .p-image {
            width: 100%; height: 115%;
            object-fit: cover;
            filter: grayscale(100%) contrast(1.1);
            transition: filter 0.6s ease, transform 0.8s var(--ease-out);
        }
        .p-image-wrap:hover .p-image {
            filter: grayscale(0%) contrast(1);
            transform: scale(1.05);
        }

        .p-image-wrap::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(135deg, rgba(192, 57, 43, 0.3), transparent 60%);
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 1;
            pointer-events: none;
        }
        .p-image-wrap:hover::before { opacity: 1; }

        .p-image-wrap::after {
            content: 'VIEW';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            font-size: 0.9rem;
            letter-spacing: 0.3em;
            color: #fff;
            background: rgba(0,0,0,0.7);
            padding: 15px 30px;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 30px;
            opacity: 0;
            transition: opacity 0.4s, transform 0.4s var(--ease-out);
            z-index: 2;
            pointer-events: none;
        }
        .p-image-wrap:hover::after {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .p-info { padding: 20px; }
        .p-title {
            font-family: var(--f-display);
            font-size: 3.5rem;
            margin-bottom: 10px;
            line-height: 1;
            transition: color 0.3s;
        }
        .project-card:hover .p-title { color: var(--c-accent); }
        .p-tags { font-size: 0.9rem; color: var(--c-text-sec); margin-bottom: 20px; font-family: var(--f-body); text-transform: uppercase; }
        .p-desc { font-size: 1rem; line-height: 1.6; color: #ccc; max-width: 400px; }

        /* --- PLAYGROUND (Grid) --- */
        .playground-section { padding: 10vh 0; }
        
        .playground-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .play-item {
            aspect-ratio: 1/1;
            background: #111;
            position: relative;
            overflow: hidden;
            border: 1px solid #222;
        }

        .play-item img {
            width: 100%; height: 100%;
            object-fit: cover;
            opacity: 0.7;
            transition: transform 0.5s, opacity 0.5s;
        }
        
        .play-item:hover img { opacity: 1; transform: scale(1.05); }

        .play-overlay {
            position: absolute;
            bottom: 0; left: 0; width: 100%;
            padding: 20px;
            background: linear-gradient(to top, #000, transparent);
            transform: translateY(100%);
            transition: transform 0.4s var(--ease-out);
        }
        
        .play-item:hover .play-overlay { transform: translateY(0); }
        .play-name { font-family: var(--f-display); font-size: 1.2rem; }

        /* --- ARCHIVE --- */
        .archive-section { padding: 10vh 0; }
        .archive-list { border-top: 1px solid var(--c-line); }

        .archive-row {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr 1fr;
            padding: 25px 0;
            border-bottom: 1px solid var(--c-line);
            transition: background 0.3s;
            align-items: center;
        }
        .archive-row:hover { background: rgba(255,255,255,0.03); }
        .ar-year { color: var(--c-text-sec); font-family: var(--f-display); }
        .ar-client { font-size: 1.2rem; font-weight: 500; }
        .ar-role { color: var(--c-text-sec); font-size: 0.9rem; }
        .ar-link { text-align: right; font-size: 0.9rem; opacity: 0; transition: opacity 0.3s; }
        .archive-row:hover .ar-link { opacity: 1; }

        /* --- FOOTER --- */
        .footer {
            padding: 15vh 0 5vh 0;
            background: #080808;
            margin-top: 10vh;
        }

        .footer-cta {
            font-family: var(--f-display);
            font-size: clamp(3rem, 9vw, 8rem);
            line-height: 0.9;
            text-align: center;
            margin-bottom: 10vh;
            color: var(--c-text-main);
            cursor: none;
            display: inline-block;
            position: relative;
            transition: transform 0.4s var(--ease-out);
        }
        .footer-cta:hover { transform: scale(1.02); }
        .footer-cta span {
            display: inline-block;
            transition: color 0.3s, transform 0.4s var(--ease-out);
        }
        .footer-cta:hover span { color: var(--c-accent); }
        .footer-cta::after {
            content: '';
            position: absolute;
            bottom: -20px; left: 50%;
            transform: translateX(-50%) scaleX(0);
            width: 80%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--c-accent), transparent);
            transition: transform 0.5s var(--ease-out);
        }
        .footer-cta:hover::after { transform: translateX(-50%) scaleX(1); }

        .contact-btn {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            margin-top: 5vh;
            padding: 20px 40px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 50px;
            font-size: 1rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            transition: all 0.4s var(--ease-out);
            cursor: none;
        }
        .contact-btn:hover {
            background: #fff;
            color: #000;
            border-color: #fff;
        }
        .contact-btn .arrow {
            display: inline-block;
            transition: transform 0.3s var(--ease-out);
        }
        .contact-btn:hover .arrow { transform: translateX(5px); }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            border-top: 1px solid var(--c-line);
            padding-top: 40px;
        }
        .f-col h4 { color: var(--c-text-sec); font-size: 0.8rem; text-transform: uppercase; margin-bottom: 20px; letter-spacing: 0.1em; }
        .f-col ul li { margin-bottom: 10px; }
        .f-col ul li a:hover { color: var(--c-accent); text-decoration: underline; }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px; right: 30px;
            width: 50px; height: 50px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            cursor: none;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.4s var(--ease-out);
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        .back-to-top:hover {
            background: #fff;
            color: #000;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .philosophy { grid-template-columns: 1fr; }
            .jp-vertical { display: none; }
            .project-card, .project-card:nth-child(even) { grid-template-columns: 1fr; gap: 20px; }
            .archive-row { grid-template-columns: 1fr 1fr; gap: 10px; }
            .ar-role, .ar-link { display: none; }
            .footer-grid { grid-template-columns: 1fr 1fr; gap: 40px; }
            .service-body { grid-template-columns: 1fr; }
            .playground-grid { grid-template-columns: 1fr; }
            .menu-items { display: none; }
            .menu-toggle { display: flex; }
            .cursor-dot, .cursor-outline { display: none; }
            body { cursor: auto; }
            a, button, .hover-trigger { cursor: pointer; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .skill-tag { font-size: 0.8rem; padding: 10px 18px; }
        }
    </style>
</head>
<body>

    <!-- Scroll Progress -->
    <div class="scroll-progress"></div>

    <!-- 1. Preloader -->
    <div class="preloader">
        <div class="loader-text">0%</div>
        <div class="loader-bar">
            <div class="loader-progress"></div>
        </div>
    </div>

    <!-- 2. Custom Shader Background -->
    <div id="canvas-container"></div>

    <!-- 3. Custom Cursor -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline">
        <span class="cursor-text">OPEN</span>
    </div>

    <!-- 4. Navigation (Smart) -->
    <nav class="nav-bar">
        <a href="#" class="logo hover-trigger">Guixian</a>
        <div class="menu-items">
            <a href="#work" class="menu-link hover-trigger">Works</a>
            <a href="#services" class="menu-link hover-trigger">Services</a>
            <a href="#about" class="menu-link hover-trigger">About</a>
            <a href="#footer" class="menu-link hover-trigger">Contact</a>
        </div>
        <button class="menu-toggle hover-trigger" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <a href="#work" class="mobile-link">Works</a>
        <a href="#services" class="mobile-link">Services</a>
        <a href="#about" class="mobile-link">About</a>
        <a href="#footer" class="mobile-link">Contact</a>
    </div>

    <!-- 5. Main Content -->
    <main class="main-content">
        
        <!-- HERO -->
        <section class="hero container">
            <h1>
                <span class="line-inner">Weaving logic</span>
                <span class="line-inner">into <span class="highlight">emotion.</span></span>
            </h1>
            <div class="hero-meta">
                <div class="fade-in">CREATIVE DEVELOPER</div>
                <div class="fade-in">BASED IN TOKYO</div>
                <div class="fade-in" style="font-family: var(--f-jp);">創造的な開発者</div>
            </div>
        </section>

        <!-- INFINITE MARQUEE -->
        <div class="marquee-container">
            <div class="marquee-content">
                <!-- Duplicated items for loop -->
                <span class="marquee-item">Creative Development</span>
                <span class="marquee-item solid">WebGL Experiences</span>
                <span class="marquee-item">UI/UX Design</span>
                <span class="marquee-item solid">Interactive Storytelling</span>
                <span class="marquee-item">Creative Development</span>
                <span class="marquee-item solid">WebGL Experiences</span>
            </div>
        </div>

        <!-- PHILOSOPHY -->
        <section class="philosophy container" id="about">
            <div class="jp-vertical fade-up">デジタル職人</div>
            <div class="philo-text fade-up">
                <p>
                    I am a <strong>Digital Artisan</strong> bridging the gap between design and engineering. In a world of templates, I craft bespoke interactive experiences that breathe.
                    <br><br>
                    My approach is rooted in the concept of <em>"Ma" (間)</em>—the space between. It is not just about what is added, but what is left out. Minimal code, maximum impact.
                </p>
            </div>
        </section>

        <!-- STATS -->
        <section class="stats-section container">
            <div class="stats-grid">
                <div class="stat-item fade-up">
                    <div class="stat-num"><span>5</span>+</div>
                    <div class="stat-label">Years Experience</div>
                </div>
                <div class="stat-item fade-up">
                    <div class="stat-num"><span>50</span>+</div>
                    <div class="stat-label">Projects Completed</div>
                </div>
                <div class="stat-item fade-up">
                    <div class="stat-num"><span>30</span>+</div>
                    <div class="stat-label">Happy Clients</div>
                </div>
                <div class="stat-item fade-up">
                    <div class="stat-num"><span>∞</span></div>
                    <div class="stat-label">Cups of Coffee</div>
                </div>
            </div>
        </section>

        <!-- SKILLS -->
        <section class="skills-section container">
            <div class="skills-cloud">
                <span class="skill-tag featured hover-trigger">React</span>
                <span class="skill-tag hover-trigger">Next.js</span>
                <span class="skill-tag featured hover-trigger">Three.js</span>
                <span class="skill-tag hover-trigger">TypeScript</span>
                <span class="skill-tag hover-trigger">GSAP</span>
                <span class="skill-tag featured hover-trigger">WebGL</span>
                <span class="skill-tag hover-trigger">Node.js</span>
                <span class="skill-tag hover-trigger">Figma</span>
                <span class="skill-tag hover-trigger">GLSL</span>
                <span class="skill-tag hover-trigger">Framer Motion</span>
                <span class="skill-tag hover-trigger">Tailwind CSS</span>
                <span class="skill-tag hover-trigger">Vue.js</span>
                <span class="skill-tag hover-trigger">Blender</span>
                <span class="skill-tag hover-trigger">After Effects</span>
            </div>
        </section>

        <!-- SERVICES (New Functionality) -->
        <section class="services-section container" id="services">
            <div class="section-header fade-up">
                <span class="section-num">01</span>
                <span class="section-title">Capabilities</span>
            </div>

            <div class="service-list">
                <div class="service-item hover-trigger">
                    <div class="service-header">
                        <h3 class="service-name">Creative Development</h3>
                        <span class="service-icon">+</span>
                    </div>
                    <div class="service-content">
                        <div class="service-body">
                            <p>Bringing designs to life with fluid animations and robust engineering. I specialize in building immersive frontend experiences that are performant and accessible.</p>
                            <ul>
                                <li>React / Next.js Ecosystem</li>
                                <li>GSAP Animations</li>
                                <li>Headless CMS Integration</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="service-item hover-trigger">
                    <div class="service-header">
                        <h3 class="service-name">WebGL & 3D</h3>
                        <span class="service-icon">+</span>
                    </div>
                    <div class="service-content">
                        <div class="service-body">
                            <p>Taking the web into the third dimension. From subtle particle effects to full-scale 3D environments, adding depth to your digital presence.</p>
                            <ul>
                                <li>Three.js / R3F</li>
                                <li>Custom GLSL Shaders</li>
                                <li>Interactive Particles</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="service-item hover-trigger">
                    <div class="service-header">
                        <h3 class="service-name">UI/UX Design</h3>
                        <span class="service-icon">+</span>
                    </div>
                    <div class="service-content">
                        <div class="service-body">
                            <p>Designing interfaces that are intuitive yet memorable. I focus on micro-interactions and typographic hierarchy to guide users effortlessly.</p>
                            <ul>
                                <li>Art Direction</li>
                                <li>Wireframing & Prototyping</li>
                                <li>Design Systems</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SELECTED WORK -->
        <section class="work-section container" id="work">
            <div class="section-header fade-up">
                <span class="section-num">02</span>
                <span class="section-title">Selected Works</span>
            </div>

            <!-- Project 1 -->
            <div class="project-card text-cursor-trigger" data-cursor="VIEW CASE">
                <div class="p-image-wrap">
                    <img src="https://images.unsplash.com/photo-1492571350019-22de08371fd3?q=80&w=1600&auto=format&fit=crop" class="p-image" alt="Project 1">
                </div>
                <div class="p-info">
                    <h3 class="p-title">Void Walker</h3>
                    <div class="p-tags">Three.js / React / WebGL</div>
                    <p class="p-desc">A fully immersive 3D fashion runway experience created for a conceptual streetwear brand. Featuring real-time cloth physics and dynamic lighting.</p>
                </div>
            </div>

            <!-- Project 2 -->
            <div class="project-card text-cursor-trigger" data-cursor="VIEW CASE">
                <div class="p-info">
                    <h3 class="p-title">Neon Genesis</h3>
                    <div class="p-tags">Next.js / GLSL / E-Commerce</div>
                    <p class="p-desc">A brutalist e-commerce platform for high-end tech accessories. Utilizing custom shaders to visualize audio data from the products.</p>
                </div>
                <div class="p-image-wrap">
                    <img src="https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=1600&auto=format&fit=crop" class="p-image" alt="Project 2">
                </div>
            </div>

            <!-- Project 3 -->
            <div class="project-card text-cursor-trigger" data-cursor="VIEW CASE">
                <div class="p-image-wrap">
                    <img src="https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=1600&auto=format&fit=crop" class="p-image" alt="Project 3">
                </div>
                <div class="p-info">
                    <h3 class="p-title">Silence Labs</h3>
                    <div class="p-tags">Vanilla JS / Barba.js / GSAP</div>
                    <p class="p-desc">Corporate portfolio for an AI research facility. Focusing on smooth page transitions and typographic hierarchy to convey trust and future-tech.</p>
                </div>
            </div>
        </section>

        <!-- PLAYGROUND (New Functionality) -->
        <section class="playground-section container">
            <div class="section-header fade-up">
                <span class="section-num">03</span>
                <span class="section-title">Laboratory</span>
            </div>
            
            <div class="playground-grid">
                <div class="play-item hover-trigger">
                    <img src="https://images.unsplash.com/photo-1614726365723-49cfae9786a6?q=80&w=800&auto=format&fit=crop" alt="Exp 1">
                    <div class="play-overlay"><span class="play-name">Fluid Sim</span></div>
                </div>
                <div class="play-item hover-trigger">
                    <img src="https://images.unsplash.com/photo-1634152962476-4b8a00e1915c?q=80&w=800&auto=format&fit=crop" alt="Exp 2">
                    <div class="play-overlay"><span class="play-name">Raymarching</span></div>
                </div>
                <div class="play-item hover-trigger">
                    <img src="https://images.unsplash.com/photo-1504333638930-c8787321eee0?q=80&w=800&auto=format&fit=crop" alt="Exp 3">
                    <div class="play-overlay"><span class="play-name">Noise Field</span></div>
                </div>
            </div>
        </section>

        <!-- ARCHIVE -->
        <section class="archive-section container">
            <div class="section-header fade-up">
                <span class="section-num">04</span>
                <span class="section-title">Archive</span>
            </div>

            <div class="archive-list">
                <div class="archive-row hover-trigger">
                    <div class="ar-year">2023</div>
                    <div class="ar-client">Sony Music Japan</div>
                    <div class="ar-role">Frontend Lead</div>
                    <div class="ar-link">↗</div>
                </div>
                <div class="archive-row hover-trigger">
                    <div class="ar-year">2023</div>
                    <div class="ar-client">Issey Miyake</div>
                    <div class="ar-role">Creative Dev</div>
                    <div class="ar-link">↗</div>
                </div>
                <div class="archive-row hover-trigger">
                    <div class="ar-year">2022</div>
                    <div class="ar-client">CyberPunk Exhibition</div>
                    <div class="ar-role">WebGL</div>
                    <div class="ar-link">↗</div>
                </div>
                <div class="archive-row hover-trigger">
                    <div class="ar-year">2022</div>
                    <div class="ar-client">Independent</div>
                    <div class="ar-role">Portfolio v1</div>
                    <div class="ar-link">↗</div>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="footer" id="footer">
            <div class="container">
                <a href="mailto:hello@guixian.dev" class="footer-cta text-cursor-trigger" data-cursor="EMAIL ME">
                    <span>Let's Create</span><br>
                    <span>Something Iconic.</span>
                </a>
                <div style="text-align: center;">
                    <a href="mailto:hello@guixian.dev" class="contact-btn hover-trigger">
                        Get in Touch <span class="arrow">→</span>
                    </a>
                </div>
                
                <div class="footer-grid">
                    <div class="f-col">
                        <h4>Socials</h4>
                        <ul>
                            <li><a href="#" class="hover-trigger">Twitter / X</a></li>
                            <li><a href="#" class="hover-trigger">LinkedIn</a></li>
                            <li><a href="#" class="hover-trigger">GitHub</a></li>
                            <li><a href="#" class="hover-trigger">Instagram</a></li>
                        </ul>
                    </div>
                    <div class="f-col">
                        <h4>Sitemap</h4>
                        <ul>
                            <li><a href="#" class="hover-trigger">Home</a></li>
                            <li><a href="#work" class="hover-trigger">Work</a></li>
                            <li><a href="#services" class="hover-trigger">Services</a></li>
                            <li><a href="#about" class="hover-trigger">About</a></li>
                        </ul>
                    </div>
                    <div class="f-col">
                        <h4>Location</h4>
                        <p>Shibuya, Tokyo<br>Japan</p>
                    </div>
                    <div class="f-col">
                        <h4>Time</h4>
                        <p id="time-display">00:00 JST</p>
                    </div>
                </div>
                
                <div style="margin-top: 50px; color: #333; font-size: 0.8rem; display:flex; justify-content:space-between;">
                    <span>© 2024 GUIXIAN TIAN</span>
                    <span>BREATH OF CODE</span>
                </div>
            </div>
        </footer>

    </main>

    <!-- Back to Top -->
    <button class="back-to-top hover-trigger" aria-label="Back to top">↑</button>

    <!-- SCRIPTS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <script>
        /**
         * =========================================
         * 1. PRELOADER
         * =========================================
         */
        const preloader = {
            init: () => {
                let progress = 0;
                const progressText = document.querySelector('.loader-text');
                const progressBar = document.querySelector('.loader-progress');
                
                const interval = setInterval(() => {
                    progress += Math.floor(Math.random() * 10);
                    if (progress >= 100) {
                        progress = 100;
                        clearInterval(interval);
                        preloader.complete();
                    }
                    progressText.innerText = `${progress}%`;
                    progressBar.style.width = `${progress}%`;
                }, 100);
            },
            complete: () => {
                const tl = gsap.timeline();
                tl.to('.preloader', {
                    y: '-100%',
                    duration: 1.2,
                    ease: 'expo.inOut',
                    delay: 0.5
                })
                .from('.hero h1 .line-inner', {
                    y: 100, opacity: 0, duration: 1.5, stagger: 0.1, ease: 'power4.out'
                }, "-=0.8")
                .from('.hero-meta .fade-in', {
                    y: 20, opacity: 0, duration: 1, stagger: 0.1, ease: 'power2.out'
                }, "-=1");
            }
        };
        
        preloader.init();

        /**
         * =========================================
         * 2. LENIS SMOOTH SCROLL
         * =========================================
         */
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            smooth: true,
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);
        gsap.registerPlugin(ScrollTrigger);

        /**
         * =========================================
         * 3. SMART NAVIGATION & SCROLL PROGRESS
         * =========================================
         */
        let lastScroll = 0;
        const navBar = document.querySelector('.nav-bar');
        const scrollProgress = document.querySelector('.scroll-progress');
        const backToTop = document.querySelector('.back-to-top');

        lenis.on('scroll', ({ scroll, limit }) => {
            if (scroll > lastScroll && scroll > 100) {
                navBar.classList.add('hidden');
            } else {
                navBar.classList.remove('hidden');
            }
            lastScroll = scroll;

            const progress = (scroll / limit) * 100;
            scrollProgress.style.width = `${progress}%`;

            if (scroll > 500) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        backToTop.addEventListener('click', () => {
            lenis.scrollTo(0);
        });

        /**
         * =========================================
         * 3.5 MOBILE MENU
         * =========================================
         */
        const menuToggle = document.querySelector('.menu-toggle');
        const mobileMenu = document.querySelector('.mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');

        menuToggle.addEventListener('click', () => {
            menuToggle.classList.toggle('active');
            mobileMenu.classList.toggle('active');
            document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
        });

        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                menuToggle.classList.remove('active');
                mobileMenu.classList.remove('active');
                document.body.style.overflow = '';
            });
        });

        /**
         * =========================================
         * 4. CUSTOM CURSOR LOGIC
         * =========================================
         */
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        const cursorText = document.querySelector('.cursor-text');

        window.addEventListener('mousemove', (e) => {
            const posX = e.clientX;
            const posY = e.clientY;

            cursorDot.style.left = `${posX}px`;
            cursorDot.style.top = `${posY}px`;

            cursorOutline.animate({
                left: `${posX}px`,
                top: `${posY}px`
            }, { duration: 500, fill: "forwards" });
        });

        // Hover Effects (General)
        document.querySelectorAll('a, .hover-trigger').forEach(trigger => {
            trigger.addEventListener('mouseenter', () => document.body.classList.add('hovered'));
            trigger.addEventListener('mouseleave', () => document.body.classList.remove('hovered'));
        });

        // Text Cursor Effects (Works)
        document.querySelectorAll('.text-cursor-trigger').forEach(trigger => {
            trigger.addEventListener('mouseenter', (e) => {
                document.body.classList.add('hovered-text');
                const text = e.target.closest('.text-cursor-trigger').dataset.cursor || 'VIEW';
                cursorText.innerText = text;
            });
            trigger.addEventListener('mouseleave', () => {
                document.body.classList.remove('hovered-text');
                cursorText.innerText = '';
            });
        });

        /**
         * =========================================
         * 5. INFINITE MARQUEE
         * =========================================
         */
        let currentScroll = 0;
        let isScrollingDown = true;
        
        gsap.to(".marquee-content", {
            xPercent: -50,
            repeat: -1,
            duration: 20,
            ease: "linear"
        }).totalProgress(0.5);

        lenis.on('scroll', () => {
             // You can add velocity based skewing here if desired
        });

        /**
         * =========================================
         * 6. SERVICES ACCORDION
         * =========================================
         */
        const services = document.querySelectorAll('.service-item');
        
        services.forEach(service => {
            service.addEventListener('click', () => {
                // Close others
                services.forEach(s => {
                    if (s !== service) s.classList.remove('active');
                });
                // Toggle current
                service.classList.toggle('active');
            });
        });

        /**
         * =========================================
         * 7. THREE.JS SHADER BACKGROUND
         * =========================================
         */
        const canvasContainer = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);
        const renderer = new THREE.WebGLRenderer({ alpha: true });
        
        renderer.setSize(window.innerWidth, window.innerHeight);
        canvasContainer.appendChild(renderer.domElement);

        const geometry = new THREE.PlaneGeometry(2, 2);
        
        // Fluid noise shader
        const fragmentShader = `
            uniform float u_time;
            uniform vec2 u_resolution;
            uniform vec2 u_mouse;

            float random(vec2 st) {
                return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
            }

            float noise(in vec2 st) {
                vec2 i = floor(st);
                vec2 f = fract(st);
                float a = random(i);
                float b = random(i + vec2(1.0, 0.0));
                float c = random(i + vec2(0.0, 1.0));
                float d = random(i + vec2(1.0, 1.0));
                vec2 u = f * f * (3.0 - 2.0 * f);
                return mix(a, b, u.x) + (c - a)* u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
            }

            #define OCTAVES 6
            float fbm (in vec2 st) {
                float value = 0.0;
                float amplitude = .5;
                float frequency = 0.;
                for (int i = 0; i < OCTAVES; i++) {
                    value += amplitude * noise(st);
                    st *= 2.;
                    amplitude *= .5;
                }
                return value;
            }

            void main() {
                vec2 st = gl_FragCoord.xy / u_resolution.xy;
                st.x *= u_resolution.x / u_resolution.y;
                vec2 mouse = u_mouse / u_resolution.xy;
                float time = u_time * 0.1;
                
                vec2 q = vec2(0.);
                q.x = fbm( st + 0.00 * time);
                q.y = fbm( st + vec2(1.0));

                vec2 r = vec2(0.);
                r.x = fbm( st + 1.0*q + vec2(1.7,9.2)+ 0.15*time );
                r.y = fbm( st + 1.0*q + vec2(8.3,2.8)+ 0.126*time);
                float f = fbm(st+r);

                vec3 color = mix(vec3(0.02, 0.02, 0.02), vec3(0.1, 0.1, 0.15), clamp((f*f)*4.0,0.0,1.0));
                color = mix(color, vec3(0.2, 0.05, 0.05), clamp(length(q),0.0,1.0));
                float dist = distance(st, vec2(mouse.x * (u_resolution.x/u_resolution.y), 1.0-mouse.y));
                color += vec3(0.1) * (1.0 - smoothstep(0.0, 0.3, dist));

                gl_FragColor = vec4(color, 1.0);
            }
        `;

        const uniforms = {
            u_time: { value: 0 },
            u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },
            u_mouse: { value: new THREE.Vector2(0, 0) }
        };

        const material = new THREE.ShaderMaterial({
            uniforms: uniforms,
            fragmentShader: fragmentShader,
        });

        const plane = new THREE.Mesh(geometry, material);
        scene.add(plane);

        function animateShader() {
            uniforms.u_time.value += 0.01;
            renderer.render(scene, camera);
            requestAnimationFrame(animateShader);
        }
        animateShader();

        document.addEventListener('mousemove', (e) => {
            uniforms.u_mouse.value.x = e.clientX;
            uniforms.u_mouse.value.y = e.clientY;
        });

        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            uniforms.u_resolution.value.set(window.innerWidth, window.innerHeight);
        });


        /**
         * =========================================
         * 8. SCROLL ANIMATIONS
         * =========================================
         */
        
        // Image Parallax
        document.querySelectorAll('.project-card').forEach(card => {
            const img = card.querySelector('.p-image');
            gsap.to(img, {
                y: '-15%',
                ease: 'none',
                scrollTrigger: {
                    trigger: card, start: 'top bottom', end: 'bottom top', scrub: true
                }
            });
        });

        // Fade Up Elements
        const fadeElements = document.querySelectorAll('.fade-up, .archive-row, .footer-cta, .play-item, .stat-item, .skill-tag');
        fadeElements.forEach((el, i) => {
            gsap.from(el, {
                y: 50, opacity: 0, duration: 1, ease: "power3.out",
                delay: el.classList.contains('skill-tag') ? i * 0.03 : 0,
                scrollTrigger: {
                    trigger: el, start: "top 90%", toggleActions: "play none none reverse"
                }
            });
        });

        // Counter Animation for Stats
        document.querySelectorAll('.stat-num span').forEach(counter => {
            const target = counter.innerText;
            if (target === '∞') return;
            const num = parseInt(target);
            counter.innerText = '0';
            ScrollTrigger.create({
                trigger: counter,
                start: 'top 85%',
                onEnter: () => {
                    gsap.to(counter, {
                        innerText: num,
                        duration: 2,
                        ease: 'power2.out',
                        snap: { innerText: 1 },
                        onUpdate: function() {
                            counter.innerText = Math.ceil(this.targets()[0].innerText);
                        }
                    });
                },
                once: true
            });
        });

        // Time
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { timeZone: 'Asia/Tokyo', hour12: false, hour: '2-digit', minute: '2-digit' });
            document.getElementById('time-display').innerText = `${timeString} JST`;
        }
        setInterval(updateTime, 1000);
        updateTime();

    </script>
</body>
</html>